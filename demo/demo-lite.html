<!DOCTYPE html>
<html>
	<head>
		<title>jQuery Boilerplate</title>
		<script src="../dist/jquery-1.10.2.min.js"></script>
		<script src="../src/slideToAction.js"></script>
		<link rel="stylesheet" href="style.css">
		<meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0" />

	</head>
	<body>

		<div class="content">
			<div class="prythm-sta">

				
				<div class="prythm-sta-button">
				
						<div class="prythm-sta-button-inner">
							&#x2192;
						</div>
				
				</div>

					<span class="prythm-sta-msg">Slide To Action</span>
					<span class="prythm-sta-success-msg">Success</span>
			</div>		


			<div class="slideToAction-button">
				<div class="slideToAction-button-inner">
				</div>
			</div>



				<div class="social-slides sli-hold">
					<span id="acc">0</span>
					<a href="http://www.facebook.com" class="fbsli" id="fbLink">Facebook</a>
					<button class="hey" onclick="alert('hey there')">Hey There</button>
					<a href="http://www.facebook.com" class="gsli" id="fbLink" onclick="silly()">Git</a>
				</div>

		
				<form method="post">
				 <input type="text" name="name" action="index.html/posted" />
				 <input type="submit" />
				</form>
		</div>

		<script>
		var timmeout;
		var mousedown;
	
		var success = false;
		var clak = "clak.mp3";
		var zap = "zap.wav";
		function playSound(audioFile){      
      	
      		var sound = new Audio(audioFile);   
      		sound.play();      
   		}


  

		$(".prythm-sta-button").mousedown(function(e){
		
			var button = $(this);
			var widthy = $(this).width() / 2;
			var container = $(this).parent();
			var msg = container.find(".prythm-sta-msg");
			var iw = container.innerWidth();
			var ipl = parseInt(container.css("padding-left"));
			var ipr = parseInt(container.css("padding-right"));
			iw = iw - ipl;
			iw = iw - ipr;
			var rightpos = iw-button.outerWidth();
			mousedown = true;


			container.mousemove(function(e){
				if(mousedown){
				  var offset = $(this).offset();
  				  var relativeX = (e.pageX - offset.left);
  				  msg.addClass("prythm-sta-sliding");
				  //console.log(relativeX);
				  
				  //console.log(aiw);

				  if(relativeX < 72){ //LEFT PADDING + BUTTON WIDTH / /2  //start
				  	button.css("margin-left", 0);
				  } 
				  else if(relativeX > 332){ //INNER WIDTH - ( RIGHT PADDING + BUTTON WIDTH / 2) //success //end
				  	button.css("margin-left", rightpos);
					successtime = 200;
					$(window).trigger("slideComplete");
				  } else {
				  	button.css("margin-left", relativeX-widthy-36); //follow pointer
				  }
				 
				}

			});

		});
/*
		$(window).on("slideComplete", function(){
			
   		if(!success){ //only exc once


   		setTimeout(function(){
   				playSound(clak);
   			}, 50);

			
			setTimeout(function(){
					$("body").addClass("anim");
				$(".prythm-sta").addClass("slid");
				$(".prythm-sta-success-msg").animate({opacity: 1}, 500);
			}, 300);
			success = true;
			}
		});
 

*/

	function gaybar(){
		alert("cya there");
	}


		$(".fbsli").slideToAction({
			classPrefix: "fb",
			slideHTML: "&#8674; Slide to Like PRYTHM",
			buttonHTML: "<i class='ss-icon'>Facebook</i>",
			successHTML: "Liked",
			maxWidth: 600,
			touchOnly: true
			
		});	

		/*
		$(".hey").slideToAction();

		$(".gsli").slideToAction({
			classPrefix: "git",
			slideHTML: "Slide to Fork",
			buttonHTML: "<i class='ss-icon'>Githuboctocat</i>",
			successHTML: "Forked",
			touchOnly: true
		});
		*/


	
		</script>

	</body>
</html>
