(function(e,t,n,r){function o(n,r){perm={};this.element=n;this.settings=e.extend({},s,r);this._name=i;this._defaults=s;var o=!1;this.settings.touchOnly&&("ontouchstart"in t||(o=!0));this.settings.maxWidth&&e(t).width()>this.settings.maxWidth&&(o=!0);if(!o){this.initialize();this.behaviour()}}var i="slideToAction",s={slideHTML:"Slide To Action...",successHTML:"Success",maxWidth:!1,touchOnly:!1,classPrefix:"my",buttonHTML:"",afterSlide:function(){}};o.prototype={initialize:function(){function t(t){var n={},r=t.settings.classPrefix,i="<div class='sta-container "+r+"-sta-container'>",s="<div class='sta-button "+r+"-sta-button'>"+t.settings.buttonHTML+"</div>";s+="<span class='sta-slide-msg "+r+"-sta-slide-msg'>"+t.settings.slideHTML+"</span>";s+="<div class='sta-success-msg "+r+"-sta-success-msg'>"+t.settings.successHTML+"</div>";s+="</div>";e(t.element).wrap(i);n.container=e(t.element).parent();perm.elm=e(t.element).parent();n.container.data("type",e(t.element).prop("tagName"));if(n.container.data("type")==="A"){n.container.data("href",e(t.element).attr("href"));n.container.data("target",e(t.element).attr("target"));n.container.html(s)}else{n.container.append(s);e(t.element).addClass("sta-origin").css("position","absolute").css("left","-99999999px").css("top","-999999999px")}}t(this)},behaviour:function(){function f(e,t){r.done=!1;s.button=t;s.container=t.parent();s.slideHTML=s.container.find(".sta-slide-msg");i.pl=parseInt(s.container.css("padding-left").replace("px",""),10);i.pr=parseInt(s.container.css("padding-right").replace("px",""),10);i.cw=s.container.innerWidth();i.bw=s.button.outerWidth();i.bwhalf=i.bw/2;i.realinner=i.cw-i.pl;i.realinner=i.realinner-i.pr;i.rightpos=i.realinner-i.bw;i.rightcheck=i.cw-i.bwhalf;i.rightcheck=i.rightcheck-i.pr;i.leftcheck=i.bwhalf+i.pl;i.offset=s.container.offset();s.slideHTML.fadeOut(100)}function l(e,n){var r=0;"ontouchstart"in t?r=e.originalEvent.targetTouches[0].pageX-i.offset.left:r=e.pageX-i.offset.left;if(r<i.leftcheck)n.button.css("margin-left",0);else if(r>i.rightcheck){n.button.css("margin-left",i.rightpos);n.container.trigger("slideComplete")}else n.button.css("margin-left",r-i.bwhalf)}function c(){var t=e(".sta-container");t.each(function(){if(e(this).data("sliding")){e(this).data("sliding",!1);e(this).find(".sta-button").animate({marginLeft:0},500,function(){e(this).parent().data("complete")||e(this).parent().find(".sta-slide-msg").fadeIn(100);e(this).data("sliding",!1)})}})}function h(e,n){n.data("complete",!0);console.log(n.data("complete"));setTimeout(function(){n.find(".sta-button").fadeOut(50,function(){n.addClass("sta-complete");n.find(".sta-success-msg").fadeIn(100);a();if(n.data("type")==="A"){var e=n.data("href");n.data("target")==="_blank"?t.open(e,"_blank"):t.location=e}else n.find(".sta-origin").trigger("click")})},200)}function p(e){t.location=e}var r={},i={},s={},o=e(".sta-button"),u=e(".sta-container"),a=this.settings.afterSlide;r.mousedown=!1;r.done=!1;s.container=perm.elm;s.button=s.container.find(".sta-button");s.slideHTML={};i.pl=0;i.pr=0;i.cw=0;i.bw=0;i.bwhalf=0;i.realinner=0;i.rightpos=0;i.rightcheck=0;i.leftcheck=0;e(".sta-button").on("touchstart",function(t){t.preventDefault();e(this).trigger("mousedown")});s.container.on("touchmove",function(t){var n=e(this).data("sliding");n&&l(t,s);t.preventDefault()});s.container.on("touchend",function(t){t.preventDefault();e(n).trigger("mouseup")});s.button.mousedown(function(t){console.log(1);var n=e(this);f(t,n);r.done=!1;e(this).parent().data("sliding",!0);s.button=e(this);s.container=e(this).parent();s.slideHTML=s.container.find(".sta-slide-msg");r.os=!0});s.container.mousemove(function(t){var n=e(this).data("sliding");if(n){var r=e(this);l(t,s)}});e(".sta-container").length==1&&e(t).mouseup(function(){c()});e(".sta-container").on("slideComplete",function(t){h(t,e(this))})}};e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new o(this,t))})}})(jQuery,window,document);