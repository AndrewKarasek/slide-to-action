(function(e,t,n,r){function o(t,n){this.element=t;this.settings=e.extend({},s,n);this._name=i;this._defaults=s;this.initialize();this.behaviour()}var i="slideToAction",s={slideMsg:"Slide To Action...",successMsg:"Success",minWidth:400,classPrefix:"my",buttonHTML:"thug",swapAtBp:!0,afterSlide:function(){}};o.prototype={initialize:function(){function t(t){var n={},r=t.settings.classPrefix,i="<div class='sta-container "+r+"-sta-container'>";i+="<div class='sta-button "+r+"-sta-button'>"+t.settings.buttonHTML+"</div>";i+="<span class='sta-slide-msg "+r+"-sta-slide-msg'>"+t.settings.slideMsg+"</span>";i+="<div class='sta-success-msg "+r+"-sta-success-msg'>"+t.settings.successMsg+"</div>";i+="</div>";e(t.element).replaceWith(i);n.container=e(t.element).parent();n.container.data("type",e(t.element).prop("tagName"));if(n.container.data("type")==="A"){console.log("its a bit of data");n.container.data("href",e(t.element).attr("href"))}n.container.html(i)}t(this)},behaviour:function(){function f(e,t){r.done=!1;s.button=t;s.container=t.parent();s.slideMsg=s.container.find(".sta-slide-msg");i.pl=parseInt(s.container.css("padding-left").replace("px",""),10);i.pr=parseInt(s.container.css("padding-right").replace("px",""),10);i.cw=s.container.innerWidth();i.bw=s.button.outerWidth();i.bwhalf=i.bw/2;i.realinner=i.cw-i.pl;i.realinner=i.realinner-i.pr;i.rightpos=i.realinner-i.bw;i.rightcheck=i.cw-i.bwhalf;i.rightcheck=i.rightcheck-i.pr;i.leftcheck=i.bwhalf+i.pl;i.offset=s.container.offset();s.slideMsg.fadeOut(100)}function l(e,n){var r=0;"ontouchstart"in t?r=e.originalEvent.targetTouches[0].pageX-i.offset.left:r=e.pageX-i.offset.left;if(r<i.leftcheck)n.button.css("margin-left",0);else if(r>i.rightcheck){n.button.css("margin-left",i.rightpos);n.container.trigger("slideComplete")}else n.button.css("margin-left",r-i.bwhalf)}function c(e){var t=new Audio;t.src=e;return t}function h(){r.audio.play()}function p(){e(".sta-button").data("md",!1);r.done||e(".sta-button").animate({marginLeft:0},500,function(){})}function d(e,t){if(!r.done){setTimeout(function(){h()},50);setTimeout(function(){a();t.find(".sta-success-msg").fadeIn(100);t.addClass("sta-complete");t.find(".sta-button").fadeOut(50,function(){t.data("type")==="A"})},200);r.done=!0}}function v(e){t.location=e}var r={},i={},s={},o=e(".sta-button"),u=e(".sta-container"),a=this.settings.afterSlide;r.mousedown=!1;r.done=!1;r.audio=c("clak.mp3");s.button={};s.container={};s.slideMsg={};i.pl=0;i.pr=0;i.cw=0;i.bw=0;i.bwhalf=0;i.realinner=0;i.rightpos=0;i.rightcheck=0;i.leftcheck=0;o.on("touchstart",function(t){t.preventDefault();e(this).trigger("mousedown")});u.on("touchmove",function(t){var n=e(this).find(".sta-button").data("md");n&&l(t,s);t.preventDefault()});u.on("touchend",function(t){t.preventDefault();e(n).trigger("mouseup")});o.mousedown(function(t){var n=e(this);f(t,n);r.done=!1;e(this).data("md",!0);s.button=e(this);s.container=e(this).parent();s.slideMsg=s.container.find(".sta-slide-msg")});u.mousemove(function(t){var n=e(this).find(".sta-button").data("md");if(n){var r=e(this);l(t,s)}});e(n).mouseup(function(){p()});h();e(".sta-container").on("slideComplete",function(t){d(t,e(this))})}};e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new o(this,t))})}})(jQuery,window,document);